🗂️ このリポジトリについて

- 業務でよく出るドメインを題材にした ER 図サンプル集です。現在の設計スキルを反映したものです
- 現場で求められるスキル感と私自身の現在のスキルの間にギャップが生じるのを防ぐために作成しました
- 初めて来た人でも以下に「どのファイルが何で、どこから読めば良いか」が直感的に分かるようにまとめています

📦 ファイル一覧（何をしているか・最初に見る場所）
| ファイル / 図                                                          | ねらい（ドメイン）       | 技術的な証明ポイント（要点）                                                                                                                                                                                            | これで示せる実力（採用・単価で響く観点）                                                               |
| ----------------------------------------------------------------- | --------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------- |
| `1-multi-tenant-subscription-system.drawio.pdf`                   | 多テナント×サブスク      | - **RLS 前提の行レベル隔離**（全テーブルに `tenant_id` を通し、同一テナント内参照を徹底）<br>- テナント→ユーザー→購読→プランの**一方向カーディナリティ**で境界を明確化                                                                                                     | - **境界設計/セキュリティ**（誤抽出をDBで強制防止）<br>- **運用想定の設計力**（横断集計や管理者オペの方針を持てる）                |
| `2-bookstore-order-review-system.drawio.pdf`                      | EC：注文・在庫・レビュー   | - 注文確定時に配送先を**スナップショット**（`order_addresses`）→履歴/監査に強い<br>- 合計金額などの**派生値は非保持**（計算＋キャッシュ）で不整合を回避<br>- **ヘッダ/明細分離**で会計・返品・再計算に耐える                                                                             | - **整合性ファースト**（履歴と再現性）<br>- **ドメイン正規化の基本を実装判断に落とす力**                               |
| `3-social-platform-polymorphic-comments-notifications.drawio.pdf` | SNS：コメント/いいね/通知 | - **CTI/TPT**：共通基底（entities/contents）＋子テーブルで“安全なポリモーフィック”を実現<br>- **Event（action/target/type）** と **Notification（配送記録）** を役割分離 | - **アンチパターン回避**（`target_type+id` を使わずFKで担保）<br>- **拡張性/可観測性**（将来の型追加に対応） |
